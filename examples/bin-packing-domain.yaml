domain: BPP
objects:
  - item
state_variables:
  - name: unpacked
    type: set
    object: item
  - name: residual
    type: continuous
    preference: greater
  - name: bin-number
    type: element
    object: item
    preference: less
tables:
  - name: capacity
    type: continuous
  - name: weight
    type: continuous
    args:
      - item
  - name: lb2-weight1
    type: continuous
    args:
      - item
    default: 0.0
  - name: lb2-weight2
    type: continuous
    args:
      - item
    default: 0.0
  - name: lb3-weight
    type: continuous
    args:
      - item
    default: 0.0
base_cases:
  - - (is_empty unpacked)
reduce: min
transitions:
  - name: pack
    parameters:
      - name: j
        object: unpacked
    preconditions:
      - (<= (weight j) residual)
      - (>= j (- bin-number 1))
    effect:
      unpacked: (remove j unpacked)
      residual: (- residual (weight j))
    cost: cost
  - name: open-and-pack
    forced: true
    parameters:
      - name: j
        object: unpacked
    preconditions:
      - (>= j bin-number)
      - forall:
          - name: k
            object: unpacked
        condition: (and (> (weight k) residual) (>= k bin-number))
    effect:
      unpacked: (remove j unpacked)
      residual: (- capacity (weight j))
      bin-number: (+ 1 bin-number)
    cost: (+ cost 1.0)
